<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>無痕風颱工作台 - 設定</title>
    <link rel="stylesheet" href="styles/local_styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body class="bg-gray-100 p-8">
    <div class="max-w-2xl mx-auto bg-white p-6 rounded-lg shadow-md">
        <h1 class="text-2xl font-bold text-gray-800 mb-6 text-center">無痕風颱工作台 - 設定</h1>

        <!-- (1) Gemini金鑰輸入區 -->
        <section class="mb-6">
            <h2 class="text-xl font-bold text-gray-800 mb-2">1. Gemini金鑰輸入區</h2>
            <label for="api-key" class="block text-sm font-medium text-gray-700 mb-1">您的 Google Gemini API 金鑰:</label>
            <input type="password" id="api-key" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
        </section>

        <hr class="my-6">

        <!-- (2) 翻譯與辨識模型 -->
        <section class="mb-6">
            <h2 class="text-xl font-bold text-gray-800 mb-2">2. 翻譯與辨識模型</h2>
            <p class="text-sm text-gray-600 mb-4">選擇「翻譯網頁」、「文字/截圖工作台」及「語音筆記」功能所使用的預設模型。</p>
            <div class="space-y-4">
                <!-- Gemini 2.0 Flash -->
                <div>
                    <input type="radio" name="model-select" id="gemini-2.0-flash" value="gemini-2.0-flash" class="sr-only" checked>
                    <label for="gemini-2.0-flash" class="model-card block p-4 border border-gray-300 rounded-lg cursor-pointer">
                        <div class="flex justify-between items-center">
                            <span class="text-lg font-bold text-indigo-700">Gemini 2.0 Flash</span>
                            <span class="text-xs font-semibold bg-indigo-100 text-indigo-800 px-2 py-1 rounded-full">預設推薦</span>
                        </div>
                        <p class="text-xs text-gray-500 mb-3">gemini-2.0-flash-001</p>
                        <div class="text-sm space-y-4 text-gray-600">
                            <p><strong class="font-medium text-gray-800">最適合：</strong> 多模態理解、即時串流、成本低</p>
                        </div>
                    </label>
                </div>
                <!-- Gemini 2.5 Flash Lite -->
                <div>
                    <input type="radio" name="model-select" id="gemini-2.5-flash-lite" value="models/gemini-2.5-flash-lite-preview-06-17" class="sr-only">
                    <label for="gemini-2.5-flash-lite" class="model-card block p-4 border border-gray-300 rounded-lg cursor-pointer">
                        <div class="flex justify-between items-center">
                            <span class="text-lg font-bold text-green-700">Gemini 2.5 Flash Lite (Preview)</span>
                        </div>
                        <p class="text-xs text-gray-500 mb-3">gemini-2.5-flash-lite-preview-06-17</p>
                        <div class="text-sm space-y-4 text-gray-600">
                            <p><strong class="font-medium text-gray-800">最適合：</strong> 單次處理更多tokens、低延遲、成本較低</p>
                        </div>
                    </label>
                </div>
            </div>
        </section>

        <hr class="my-6">

        <!-- (3) 無痕對話 - 內建提示語記憶 -->
        <section id="preset-prompts-section" class="mb-6">
            <h2 class="text-xl font-bold text-gray-800 mb-2">3. 無痕對話 - 內建提示語記憶</h2>
            <p class="text-sm text-gray-600 mb-4">在此輸入您常用的指令或模板，方便在「無痕Gemini對話」中快速取用。</p>
            <div class="space-y-4">
                <div>
                    <label for="preset-prompt-a" class="block text-sm font-medium text-gray-700 mb-1">預設提示語 A:</label>
                    <textarea id="preset-prompt-a" rows="2" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"></textarea>
                </div>
                <div>
                    <label for="preset-prompt-b" class="block text-sm font-medium text-gray-700 mb-1">預設提示語 B:</label>
                    <textarea id="preset-prompt-b" rows="2" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"></textarea>
                </div>
                <div>
                    <label for="preset-prompt-c" class="block text-sm font-medium text-gray-700 mb-1">預設提示語 C:</label>
                    <textarea id="preset-prompt-c" rows="2" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"></textarea>
                </div>
                <div>
                    <label for="preset-prompt-d" class="block text-sm font-medium text-gray-700 mb-1">預設提示語 D:</label>
                    <textarea id="preset-prompt-d" rows="2" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"></textarea>
                </div>
                <div>
                    <label for="preset-prompt-e" class="block text-sm font-medium text-gray-700 mb-1">預設提示語 E:</label>
                    <textarea id="preset-prompt-e" rows="2" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"></textarea>
                </div>
            </div>
        </section>

        <hr class="my-6">
        
        <!-- (4) (選用) 雲端日誌設定 -->
        <section>
            <h2 class="text-xl font-bold text-gray-800 mb-2">4. (選用) 雲端日誌設定</h2>
            <p class="text-sm text-gray-600 mb-4">將處理紀錄發送到您自己的 Google Cloud Functions 端點，以供研究分析。</p>
            <div class="space-y-4">
                <div>
                    <label for="log-endpoint" class="block text-sm font-medium text-gray-700 mb-1">Cloud Function 端點網址:</label>
                    <input type="url" id="log-endpoint" placeholder="https://....cloudfunctions.net/your-function" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                </div>
                <div>
                    <label for="log-key" class="block text-sm font-medium text-gray-700 mb-1">認證金鑰 (選填):</label>
                    <input type="password" id="log-key" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                </div>
            </div>
        </section>

        <div class="mt-8 flex items-center">
            <button id="save" class="bg-indigo-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition">儲存設定</button>
            <div id="status" class="ml-4 text-sm font-medium text-green-600"></div>
        </div>
    </div>
    <script src="options.js"></script>
</body>
</html>
